---
import Layout from '../../layouts/Layout.astro';
import { Icon } from 'astro-icon/components';
import OptimizedImage from '../../components/OptimizedImage.astro';
import { buildLocalizedURL } from '../../lib/i18n/utils';

const siteUrl = Astro.site ? Astro.site.toString() : Astro.url.origin;
const alternateUrls = {
  en: buildLocalizedURL(siteUrl, 'en', '/services/plans').toString(),
  es: buildLocalizedURL(siteUrl, 'es', '/services/plans').toString(),
};

// Import existing services and packages structure
const services = [
  {
    id: 'private',
    title: 'Private Events',
    description: 'Intimate celebrations with custom cocktails that will surprise your guests.',
    image: '/images/private_e.webp',
    placeholder: '/images/placeholders/private_e-placeholder.webp',
    features: [
      'Customized cocktail menu',
      'Professional bartenders',
      'Elegant mobile bar',
      'Glassware and utensils',
      'High-quality ingredients',
      'Setup and breakdown'
    ],
    cta: 'Request a quote'
  },
  {
    id: 'weddings',
    title: 'Weddings',
    description: 'Create magical moments with themed bars and cocktails that complement your special day.',
    image: '/images/wedding_e.webp',
    placeholder: '/images/placeholders/wedding_e-placeholder.webp',
    features: [
      'Personalized signature cocktails',
      'Themed mobile bar decoration',
      'Uniformed professional bartenders',
      'Premium glassware',
      'Infused water station',
      'Welcome drinks service'
    ],
    cta: 'Plan your wedding'
  },
  {
    id: 'corporate',
    title: 'Corporate Events',
    description: 'Impress clients and colleagues with professional and sophisticated service.',
    image: '/images/corporate_e.webp',
    placeholder: '/images/placeholders/corporate_e-placeholder.webp',
    features: [
      'Corporate branded cocktails',
      'Mobile bar with company logo',
      'Professional bartenders',
      'Alcoholic and non-alcoholic options',
      'Coffee break service',
      'Corporate invoicing'
    ],
    cta: 'Corporate quote'
  },
  {
    id: 'themed',
    title: 'Themed Parties',
    description: 'Reinforce your event theme with perfectly coordinated cocktails and decor.',
    image: '/images/themed_p.webp',
    placeholder: '/images/placeholders/themed_p-placeholder.webp',
    features: [
      'Exclusive themed cocktails',
      'Themed bar decoration',
      'Themed attire for bartenders',
      'Bartending show',
      'Custom printed menu',
      'Special effects (dry ice, flaming)'
    ],
    cta: 'Create my themed party'
  }
];

const packages = [
  {
    name: 'Basic',
    price: '$450',
    description: 'Ideal for small events up to 50 people',
    features: [
      '4 hours of service',
      '1 professional bartender',
      'Standard mobile bar',
      '4 cocktails of your choice',
      '1 Water station',
      'Ingredients and glassware',
      'Ice'
    ],
    popular: false
  },
  {
    name: 'Premium',
    price: '$700',
    description: 'Perfect for medium events up to 100 people',
    features: [
      '5 hours of service',
      '2 professional bartenders',
      'Customized mobile bar',
      '5 cocktails of your choice',
      'Personalized signature cocktail',
      'Premium ingredients and glassware',
      'Ice and cocktail garnishes',
      'Custom printed menu'
    ],
    popular: true
  },
  {
    name: 'Deluxe',
    price: '$1,200',
    description: 'The complete experience for large events up to 200 people',
    features: [
      '6 hours of service',
      '3 professional bartenders',
      'Premium mobile bar with lighting',
      '7 cocktails of your choice',
      '2 personalized signature cocktails',
      'Luxury ingredients and glassware',
      'Infused water station',
      'Themed bar decoration',
      'Special effects'
    ],
    popular: false
  }
];
---

<Layout 
  title="Plans & Services | Dito's Bartender"
  description="Discover our wide range of mobile bartending services for all types of events. Custom cocktails, themed bars, and unique experiences."
  alternateUrls={alternateUrls}
>
  <!-- Hero Section -->
  <section class="pt-32 pb-20 bg-primary text-white">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Plans & Services</h1>
        <p class="text-xl text-white/80">
          Personalized bartending experiences for every occasion. Discover how we can make your event extraordinary.
        </p>
      </div>
    </div>
  </section>
  
  <!-- Services Section -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-4">
      {services.map((service, index) => (
        <div id={service.id} class="py-16 border-b border-gray-200 last:border-0">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class={index % 2 === 0 ? 'order-2 lg:order-1' : 'order-2'}>
              <h2 class="text-3xl font-bold mb-6">{service.title}</h2>
              <p class="text-gray-600 mb-8 text-lg">{service.description}</p>
              <ul class="space-y-3 mb-8">
                {service.features.map(feature => (
                  <li class="flex items-start">
                    <Icon name="mdi:check-circle" class="w-6 h-6 text-primary mr-2 flex-shrink-0 mt-0.5" />
                    <span>{feature}</span>
                  </li>
                ))}
              </ul>
              <a 
                href="/contact" 
                class="bg-primary hover:bg-primary-dark text-white font-semibold px-8 py-3 rounded-md transition-colors duration-300 inline-flex items-center"
              >
                {service.cta}
                <Icon name="mdi:arrow-right" class="w-5 h-5 ml-2" />
              </a>
            </div>
            <div class={index % 2 === 0 ? 'order-1 lg:order-2' : 'order-1'}>
              <OptimizedImage 
                src={service.image || "/placeholder.svg"} 
                alt={service.title} 
                width={600} 
                height={400}
                class="rounded-lg shadow-xl w-full h-[400px] object-cover"
                loading={index === 0 ? "eager" : "lazy"}
                fetchpriority={index === 0 ? "high" : "auto"}
                placeholder={service.placeholder}
              />
            </div>
          </div>
        </div>
      ))}
    </div>
  </section>
  
  <!-- Packages Section -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold mb-4">Our Packages</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">
          We offer different options to adapt to your needs and budget. All our packages are customizable.
        </p>
      </div>
      
      <div class="relative">
        <!-- Coming Soon Overlay -->
        <div class="absolute inset-0 bg-secondary/70 backdrop-blur-sm z-10 rounded-lg flex flex-col items-center justify-center text-white px-4">
          <div class="bg-primary/90 p-6 md:p-8 rounded-lg text-center max-w-lg transform rotate-[-2deg] shadow-xl border-2 border-accent">
            <Icon name="mdi:clock-outline" class="w-16 h-16 mx-auto mb-4 text-accent" />
            <h3 class="text-2xl md:text-3xl font-bold mb-2">Coming Soon</h3>
            <p class="text-lg mb-4">Our package options are being refined to provide you with the best experience.</p>
            <a 
              href="/contact" 
              class="bg-accent hover:bg-accent-dark text-secondary font-semibold px-6 py-3 rounded-md transition-colors duration-300 inline-flex items-center"
            >
              Request Custom Quote
              <Icon name="mdi:arrow-right" class="w-5 h-5 ml-2" />
            </a>
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 opacity-40 blur-[1px]">
          {packages.map(pkg => (
            <div class={`bg-white rounded-lg shadow-lg overflow-hidden transition-transform duration-300 hover:-translate-y-2 ${pkg.popular ? 'ring-2 ring-accent relative' : ''}`}>
              {pkg.popular && (
                <div class="absolute top-0 right-0 bg-accent text-secondary font-semibold px-4 py-1">
                  Most popular
                </div>
              )}
              <div class="p-8">
                <h3 class="text-2xl font-bold mb-2">{pkg.name}</h3>
                <div class="text-3xl font-bold text-primary mb-4">{pkg.price}</div>
                <p class="text-gray-600 mb-6">{pkg.description}</p>
                <ul class="space-y-3 mb-8">
                  {pkg.features.map(feature => (
                    <li class="flex items-start">
                      <Icon name="mdi:check-circle" class="w-5 h-5 text-primary mr-2 flex-shrink-0 mt-0.5" />
                      <span class="text-gray-600">{feature}</span>
                    </li>
                  ))}
                </ul>
                <a 
                  href="/contact" 
                  class={`w-full block text-center font-semibold px-6 py-3 rounded-md transition-colors duration-300 ${pkg.popular ? 'bg-accent hover:bg-accent-dark text-secondary' : 'bg-primary hover:bg-primary-dark text-white'}`}
                >
                  Request this package
                </a>
              </div>
            </div>
          ))}
        </div>
      </div>
      
      <div class="text-center mt-16">
        <p class="text-gray-600 mb-4">Need a custom package?</p>
        <a 
          href="/contact" 
          class="bg-transparent hover:bg-primary text-primary hover:text-white border border-primary font-semibold px-8 py-3 rounded-md transition-colors duration-300 inline-flex items-center"
        >
          Contact us for a tailored quote
          <Icon name="mdi:arrow-right" class="w-5 h-5 ml-2" />
        </a>
      </div>
    </div>
  </section>
  
  <!-- CTA Section -->
  <section class="py-20 bg-primary text-white">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">Ready to elevate your event?</h2>
        <p class="text-xl text-white/80 mb-8">
          Contact us today to start planning an unforgettable bartending experience for your guests.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="/contact" 
            class="bg-accent hover:bg-accent-dark text-secondary font-semibold px-8 py-4 rounded-md transition-colors duration-300"
          >
            Request a Quote
          </a>
          <a 
            href="/services/menu" 
            class="bg-transparent hover:bg-white/10 border-2 border-white text-white font-semibold px-8 py-4 rounded-md transition-colors duration-300"
          >
            View Cocktail Menu
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>